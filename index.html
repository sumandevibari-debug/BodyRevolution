<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>BodyRevolution | Ultimate Transformation</title>
  <meta name="theme-color" content="#FF9933" />
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json" />
  
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- AUDIO PLAYER -->
  <audio id="bg-music" loop>
    <source src="https://cdn.pixabay.com/download/audio/2022/01/18/audio_d0a13f69d2.mp3?filename=motivational-epic-music-112766.mp3" type="audio/mpeg">
  </audio>

  <!-- MUSIC WIDGET (Floating) -->
  <div id="music-widget" class="hidden" aria-hidden="true">
    <div class="music-bars" id="eq-viz">
      <div class="bar" style="animation-delay:0s"></div>
      <div class="bar" style="animation-delay:0.15s"></div>
      <div class="bar" style="animation-delay:0.3s"></div>
    </div>
    <span class="music-label">Motivation</span>
    <button id="btn-music-toggle" class="music-btn">â–¶</button>
  </div>

  <!-- REST TIMER OVERLAY (Floating) -->
  <div id="rest-timer-overlay" class="hidden">
    <div class="timer-box">
      <h3 class="muted-text" style="font-size:0.8rem;text-transform:uppercase;letter-spacing:1px">Resting</h3>
      <div id="timer-display">00:00</div>
      <div class="timer-controls">
        <button class="btn btn-outline btn-sm" onclick="RestTimer.add(30)">+30s</button>
        <button class="btn btn-primary btn-sm" onclick="RestTimer.stop()">Stop</button>
      </div>
    </div>
  </div>

  <!-- ONBOARDING WIZARD -->
  <div id="onboarding" class="onboarding hidden" role="dialog" aria-modal="true">
    <div class="onboard-inner">
      <div class="brand">
        <h1 class="text-gradient">BodyRevolution</h1>
        <p class="muted">The Ultimate Indian Fitness Guide</p>
      </div>

      <div id="wiz-slot"></div>

      <div class="wiz-controls">
        <button id="wiz-back" class="btn btn-outline hidden" type="button">Back</button>
        <button id="wiz-next" class="btn btn-primary" type="button">Continue</button>
      </div>
    </div>
  </div>

  <!-- MAIN APP CONTAINER -->
  <div id="app" class="hidden" aria-live="polite">
    <header class="app-header">
      <div class="brand-inline">BodyRev<span class="dot">.</span></div>
      <div class="header-right">
         <div class="streak-pill">ðŸ”¥ <span id="streak-num">0</span> Days</div>
      </div>
    </header>

    <main id="view-container"></main>

    <nav class="bottom-nav" role="navigation" aria-label="Main">
      <button class="nav-btn active" data-view="home">
        <svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
        <span>Home</span>
      </button>
      <button class="nav-btn" data-view="journey">
        <svg viewBox="0 0 24 24"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/></svg>
        <span>Journey</span>
      </button>
      <button class="nav-btn" data-view="library">
        <svg viewBox="0 0 24 24"><path d="M20.57 14.86L22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2 7.71l1.43 1.43L2 10.57 3.43 12 7 8.43 15.57 17 12 20.57 13.43 22 14.86 20.57 16.29 22 18.43 19.86 19.86 18.43 18.43 17z"/></svg>
        <span>Gym</span>
      </button>
      <button class="nav-btn" data-view="nutrition">
        <svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
        <span>Nutrition</span>
      </button>
      <button class="nav-btn" data-view="muscleBuilding">
        <svg viewBox="0 0 24 24"><path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7H15V9H21ZM20 12V10H15V12H20ZM20 15V13H15V15H20ZM20 18V16H15V18H20ZM20 21V19H15V21H20M12 8C16 8 18 10 18 14V22H6V14C6 10 8 8 12 8Z"/></svg>
        <span>Muscle</span>
      </button>
      <button class="nav-btn" data-view="profile">
        <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1z"/></svg>
        <span>Profile</span>
      </button>
    </nav>
  </div>

  <!-- MODALS / ROOTS -->
  <div id="plan-modal" class="modal-root hidden" aria-hidden="true"></div>

  <!-- SCRIPTS -->
  <script src="muscle.js"></script>
  <script src="app.js"></script>
  
  <!-- PWA Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js')
          .then(reg => console.log('SW Registered!', reg))
          .catch(err => console.log('SW Failed', err));
      });
    }
  </script>
</body>
</html>